# 电子技术课程设计——项目核心源码

组别：电子技术课程设计第24小组

Author：乔东铭，田凯文，潘俊屹

本文件夹为电子技术课程设计源代码。由于keil uvision工程中存在大量无需修改的文件，且不涉及课程程序设计的核心：检测，动作执行与状态机的设计。因此并未包含，只放入我们已经修改过的，涉及课程项目核心的代码。

## 文件架构

### img_data

功能：存储了模板匹配所使用的所有图片信息。包括L/R标志，岔路以及障碍物。

### Stage1——循线+避障

功能：完成第一阶段中级题的代码，包括循线，越过干扰的黑线，超声波避障。

文件：

- Car_main.c：完成上述一系列功能的源文件，包括检测，动作执行函数以及主循环中的状态机
- Car_main.h：对应头文件。

### Stage1——迷宫

功能：完成第一阶段提高题的代码，内容包括走迷宫，灰度检测与显示。

文件：

- Car_main.c：完成上述一系列功能的源文件。
- Car_main.h：对应头文件。
- LQ_HCSR04.c：超声波传感器初始化以及探测距离源文件，在其中增加了第二个传感器的引脚配置初始化程序，修改了Get_Distance()函数。
- LQ_ADC.c：灰度传感器探测源文件
- LQ_ADC.h：对应头文件

### Stage2——综合任务

功能：完成第二阶段中级题的代码，内容包括：串口通信+红外循迹+摄像头识别+避障+推球入洞。

文件：

- Car_main.c：接受红外传感器检测到的数据，并通过串口通信方式发送信息。
- **main.py：主程序，完成上述一系列功能，包含检测函数，动作执行函数，以及主循环中状态机中的跳转逻辑。是最核心的程序。**
- Receive.py：接受STM32板子发送的红外传感器数据。
- template_matching_1.py：L/R标志，障碍物，岔路的模板匹配程序。

### Stage3——蓝牙控制

功能：完成创新环节，主要实现用手机app控制小车运动。

文件：

- Receive_bt.py：通过蓝牙接收遥控指令，并解析为动作指令。
- Test_Motor.py：控制小车的程序。